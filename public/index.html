<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Aplicación ML – Ansiedad (SCAS)</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    html, body { height:100%; margin:0; }
    .auth-center{
      min-height:100vh; display:flex; align-items:center; justify-content:center;
      padding:24px 16px; background-color:#f8fafc;
    }
    .auth-card{
      width:100%; max-width:720px; padding:18px 20px 20px; background:#fff;
      border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.07);
    }
    .brand{ margin:0 0 6px; font-size:24px; font-weight:800; color:#0f172a; text-align:center; }
    .auth-title{ margin:0 0 12px; font-size:18px; font-weight:800; color:#0f172a; text-align:center; }
    .stack{ display:flex; flex-direction:column; gap:10px; margin-bottom:10px; }

    /* ===== Input group con icono, | y campo ===== */
    .control{
      height:48px; display:flex; align-items:center; gap:10px;
      border:1px solid #e2e8f0; border-radius:12px; padding:0 12px; background:#fff;
    }
    .control:focus-within{ border-color:#94a3b8; box-shadow:0 0 0 4px rgba(100,116,139,.15); }
    .control .icon{ width:20px; height:20px; color:#64748b; flex:0 0 auto; }
    .control .divider{ width:1px; align-self:stretch; background:#e2e8f0; }
    .control input{
      border:0; outline:0; background:transparent; height:100%; flex:1 1 auto;
      font-size:16px; color:#0f172a; padding:0;
    }
    .control input::placeholder{ color:#94a3b8; }
    .btn-eye{
      background:transparent; border:0; padding:6px; margin-right:-6px; cursor:pointer;
      display:flex; align-items:center; color:#64748b;
    }
    .btn-eye:focus{ outline:2px solid transparent; box-shadow:0 0 0 4px rgba(100,116,139,.15); border-radius:8px; }

    .btn-lg{ height:48px; border-radius:12px; font-size:16px; }
    .btn-primary{ background-color:#f97316; border:none; color:#fff; font-weight:600; cursor:pointer; }
    .btn-primary:hover{ background-color:#ea580c; }
    .full{ width:100%; }
    .msg-inline{ margin-top:8px; color:#c02626; min-height:20px; font-weight:600; text-align:center; }
    .auth-footer{ margin-top:12px; color:#64748b; font-size:14px; text-align:center; }
    .link{ color:#2563eb; text-decoration:none; font-weight:600; }
    .link:hover{ text-decoration:underline; }
  </style>
</head>
<body>
  <div class="auth-center">
    <div class="auth-card">
      <h2 class="brand">Aplicación ML – Ansiedad (SCAS)</h2>
      <h3 class="auth-title">Iniciar Sesión</h3>

      <div class="stack">
        <!-- Correo: icono + | + input -->
        <div class="control">
          <!-- icono sobre -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="3" y="5" width="18" height="14" rx="2" ry="2"></rect>
            <path d="M3 7l9 6 9-6"></path>
          </svg>
          <span class="divider" aria-hidden="true"></span>
          <input id="loginEmail" type="email" placeholder="correo" required aria-label="Correo electrónico">
        </div>

        <!-- Contraseña: icono + | + input + ojo -->
        <div class="control">
          <!-- icono candado -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="5" y="11" width="14" height="10" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
          <span class="divider" aria-hidden="true"></span>
          <input id="loginPass" type="password" minlength="6" maxlength="10" placeholder="contraseña" required aria-label="Contraseña">
          <button class="btn-eye" type="button" aria-label="Mostrar u ocultar contraseña" onclick="togglePass()">
            <!-- ojo abierto (se usa cuando SE MUESTRA la contraseña) -->
            <svg id="eyeOpen" style="display:none" viewBox="0 0 24 24" width="20" height="20" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"></path>
              <circle cx="12" cy="12" r="3"></circle>
            </svg>
            <!-- ojo cerrado (por defecto, contraseña oculta) -->
            <svg id="eyeClosed" viewBox="0 0 24 24" width="20" height="20" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17.94 17.94A12.3 12.3 0 0 1 12 19c-7 0-11-7-11-7a21.7 21.7 0 0 1 5.06-6.06"></path>
              <path d="M9.88 9.88A3 3 0 0 0 12 15a3 3 0 0 0 2.12-.88"></path>
              <path d="M1 1l22 22"></path>
            </svg>
          </button>
        </div>
      </div>

      <button class="btn btn-primary btn-lg full" onclick="login()">Iniciar sesión</button>
      <div id="loginMsg" class="msg-inline"></div>

      <p class="auth-footer">
        ¿No tienes cuenta?
        <a class="link" href="register.html">Crear Cuenta</a>
      </p>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // Enviar con Enter
    ['loginEmail','loginPass'].forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.addEventListener('keydown', e=>{
        if(e.key === 'Enter'){ e.preventDefault(); login(); }
      });
    });

    // Toggle: oculto (•••, ojo cerrado) <-> visible (texto, ojo abierto)
    function togglePass(){
      const inp = document.getElementById('loginPass');
      const open = document.getElementById('eyeOpen');
      const closed = document.getElementById('eyeClosed');
      const showing = inp.type === 'text';
      inp.type = showing ? 'password' : 'text';
      open.style.display = showing ? 'none' : 'block';   // mostrar ojo abierto cuando se VE
      closed.style.display = showing ? 'block' : 'none'; // ojo cerrado cuando está OCULTO
    }
  </script>
</body>
</html>
